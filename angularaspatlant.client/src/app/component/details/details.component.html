<h1 id="tableLabel">Details</h1>


<p *ngIf="loading">loading....</p>

<p *ngIf="!completeLoad&&!loading">error with loading data, chek your server and <a href=" ">refresh</a> this page</p>

<div class="tableforms" *ngIf="completeLoad&&!loading">
  <div class="table-responsive">
    <table >
      <thead>
        <tr>
          <th>id</th>
          <th>code</th>
          <th width="250">name</th>
          <th>count</th>
          <th>storekeeper</th>
          <th>date create</th>
          <th>date delete</th>
        </tr>
      </thead>
      <tbody>
        <tr  *ngFor="let detail of details; trackBy: trackDetails">
          <td>{{ detail.id }}</td>
          <td>{{ detail.item_code }}</td>
          <td>{{ detail.item_name }}</td>
          <td>{{ detail.count }}</td>
          <td>{{ getStorekeeperName(detail.storeKeeper_id)}}</td>
          <td>{{ getDate(detail.date_Create) }}</td>
          <td>{{ getDate(detail.date_Delete) }}</td>
          
        </tr>
      </tbody>
    </table>
  </div>
  <div>
    
    <div style="padding:10px">
      <label>Add detail</label><br />
      <table>
        <tbody>
          <tr>
            <td>code</td>
            <td>
              <input [(ngModel)]="detail.item_code" type="text" />
            </td>
          </tr>
          <tr>
            <td>name</td>
            <td>
              <input [(ngModel)]="detail.item_name" type="text" />
            </td>
          </tr>
          <tr>
            <td>count</td>
            <td>
              <input [(ngModel)]="detail.count" type="number" />
            </td>
          </tr>
          <tr>
            <td>storekeeper</td>
            <td>
              <select [(ngModel)]="detail.storeKeeper_id">
                <option value="">...</option>
                <option *ngFor="let storekeeper of storekeepers; trackBy: trackStorekeepers"  value=" {{storekeeper.id}}">{{storekeeper.full_name}}</option>
              </select>
            </td>
          </tr>
          <tr>
            <td>date create</td>
            <td>
              <input [(ngModel)]="detail.date_Create" type="date" />
            </td>
          </tr>
        </tbody>
      </table>
      <button (click)="postDetail()">Add</button>
    </div>
    <div style="padding:10px">
      <label>Delete detail</label><br />
      <input type="number" [(ngModel)]="detail_id" placeholder="Detail id" />
      <button (click)="deleteDetail()">Delete</button>
    </div>
  </div>
</div>
  
